package com.sample

import com.sample.GUI
 
declare Question
	question : String
	answer : String
end

function Question askQuestion(String q, String[] options) {
    GUI gui = new GUI();
    String answer = gui.window(q, options);
    System.out.println( answer );
    Question quest = new Question(q, answer);
   	return quest;
}

function void showAnswer(String ans) {
	GUI gui = new GUI();
    String answer = gui.window(ans, null);
    System.out.println( answer );
}


rule "Which genre interest you?"
	when
	then
		String[] options = {"Medieval Fantasy", "Far Future",
   				 "Mecha", "Generes related to near present",
   				 "Westerns", "Supers", "Other Alternate History",
   				 "Genre Shouldn't matter"};
	 	
	   	Question nextq = askQuestion("Which genre interest you?", options);
	   	insert(nextq);
end

rule "Which subgenre?"
	when
		$q : Question(question == "Which genre interest you?", answer == "Medieval Fantasy")
	then
		String[] options = {"Oriental", "Humor", "High Fantasy/General", "High magic", "Low Fantasy"};
	 
	   	Question nextq = askQuestion("Which subgenre?", options);
	   	insert(nextq);
end

rule "With meta-plots and CCG element?"
	when
		$q : Question(question == "Which subgenre?", answer == "Oriental")
	then
		String[] options = {"Yes", "No"};

	   	Question nextq = askQuestion("With meta-plots and CCG element?", options);
	   	insert(nextq);
end

rule ""
	when
		$q : Question(question == "", answer == "")
	then
	 	showAnswer("Cyberpunk2020");
end




